<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Apply bipolar montage to depth electrodes &#8212; ephypype 0.0.7 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Ephypype</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0.7</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="index.html">Gallery</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../tutorial/index.html">Tutorial</a></li>
                <li><a href="https://github.com/neuropycon/ephypype">Github</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Apply bipolar montage to depth electrodes</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/auto_examples/plot_run_FT_IF.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="sphx-glr-download-link-note admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Click <a class="reference internal" href="#sphx-glr-download-auto-examples-plot-run-ft-if-py"><span class="std std-ref">here</span></a> to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="apply-bipolar-montage-to-depth-electrodes">
<span id="ft-seeg-example"></span><span id="sphx-glr-auto-examples-plot-run-ft-if-py"></span><h1>Apply bipolar montage to depth electrodes<a class="headerlink" href="#apply-bipolar-montage-to-depth-electrodes" title="Permalink to this headline">Â¶</a></h1>
<p>This scripts shows a very simple example on how to create an Interface wrapping
a desired function of a Matlab toolbox (<a href="http://www.fieldtriptoolbox.org/" target="_blank">FieldTrip</a>).</p>
<p>The <strong>input</strong> data should be a <strong>.mat</strong> file containing a FieldTrip data struct</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Authors: Annalisa Pascarella &lt;a.pascarella@iac.cnr.it&gt;</span>
<span class="c1"># License: BSD (3-clause)</span>

<span class="kn">import</span> <span class="nn">os.path</span> <span class="kn">as</span> <span class="nn">op</span>

<span class="kn">import</span> <span class="nn">ephypype</span>
<span class="kn">from</span> <span class="nn">ephypype.nodes.FT_tools</span> <span class="kn">import</span> <span class="n">Reference</span>
<span class="kn">from</span> <span class="nn">ephypype.datasets</span> <span class="kn">import</span> <span class="n">fetch_ieeg_dataset</span>
</pre></div>
</div>
<p>Let us fetch the data first. It is around 675 MB download.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">base_path</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">op</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">ephypype</span><span class="o">.</span><span class="vm">__file__</span><span class="p">),</span> <span class="s1">&#39;..&#39;</span><span class="p">,</span> <span class="s1">&#39;examples&#39;</span><span class="p">)</span>
<span class="n">data_path</span> <span class="o">=</span> <span class="n">fetch_ieeg_dataset</span><span class="p">(</span><span class="n">base_path</span><span class="p">)</span>

<span class="n">ft_path</span> <span class="o">=</span> <span class="s1">&#39;/usr/local/MATLAB/R2018a/toolbox/MEEG/fieldtrip-20200327/&#39;</span>
<span class="n">refmethod</span> <span class="o">=</span> <span class="s1">&#39;bipolar&#39;</span>
<span class="n">channels_name</span> <span class="o">=</span> <span class="s1">&#39;{</span><span class="se">\&#39;</span><span class="s1">RAM*</span><span class="se">\&#39;</span><span class="s1">, </span><span class="se">\&#39;</span><span class="s1">RHH*</span><span class="se">\&#39;</span><span class="s1">, </span><span class="se">\&#39;</span><span class="s1">RTH*</span><span class="se">\&#39;</span><span class="s1">, </span><span class="se">\&#39;</span><span class="s1">ROC*</span><span class="se">\&#39;</span><span class="s1">, </span><span class="se">\&#39;</span><span class="s1">LAM*</span><span class="se">\&#39;</span><span class="s1">,</span><span class="se">\&#39;</span><span class="s1">LHH*</span><span class="se">\&#39;</span><span class="s1">, </span><span class="se">\&#39;</span><span class="s1">LTH*</span><span class="se">\&#39;</span><span class="s1">}&#39;</span>  <span class="c1"># noqa</span>


<span class="n">reference_if</span> <span class="o">=</span> <span class="n">Reference</span><span class="p">()</span>
<span class="n">reference_if</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">data_file</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="s1">&#39;SubjectUCI29_data.mat&#39;</span><span class="p">)</span>
<span class="n">reference_if</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">channels</span> <span class="o">=</span> <span class="n">channels_name</span>
<span class="n">reference_if</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">ft_path</span> <span class="o">=</span> <span class="n">ft_path</span>
<span class="n">reference_if</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">refmethod</span> <span class="o">=</span> <span class="n">refmethod</span>
<span class="n">reference_if</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">script</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="n">out</span> <span class="o">=</span> <span class="n">reference_if</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;Rereferenced data saved at {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">out</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">data_output</span><span class="p">))</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>*********************** bipolar
[?1h=
                                                           &lt; M A T L A B (R) &gt;
                                                 Copyright 1984-2018 The MathWorks, Inc.
                                                  R2018a (9.4.0.813654) 64-bit (glnxa64)
                                                            February 23, 2018


To get started, type one of these: helpwin, helpdesk, or demo.
For product information, visit www.mathworks.com.

Executing pyscript at 08-Apr-2020 14:56:36:
-----------------------------------------------------------------------------------------------------
MATLAB Version: 9.4.0.813654 (R2018a)
MATLAB License Number: 123456
Operating System: Linux 4.4.0-176-generic #206-Ubuntu SMP Fri Feb 28 05:02:04 UTC 2020 x86_64
Java Version: Java 1.8.0_144-b01 with Oracle Corporation Java HotSpot(TM) 64-Bit Server VM mixed mode
-----------------------------------------------------------------------------------------------------
MATLAB                                                Version 9.4         (R2018a)
Simulink                                              Version 9.1         (R2018a)
Aerospace Blockset                                    Version 3.21        (R2018a)
Aerospace Toolbox                                     Version 2.21        (R2018a)
Antenna Toolbox                                       Version 3.1         (R2018a)
Audio System Toolbox                                  Version 1.4         (R2018a)
Automated Driving System Toolbox                      Version 1.2         (R2018a)
Bioinformatics Toolbox                                Version 4.10        (R2018a)
Communications System Toolbox                         Version 6.6         (R2018a)
Computer Vision System Toolbox                        Version 8.1         (R2018a)
Control System Toolbox                                Version 10.4        (R2018a)
Curve Fitting Toolbox                                 Version 3.5.7       (R2018a)
DO Qualification Kit                                  Version 3.5         (R2018a)
DSP System Toolbox                                    Version 9.6         (R2018a)
Database Toolbox                                      Version 8.1         (R2018a)
Datafeed Toolbox                                      Version 5.7         (R2018a)
Econometrics Toolbox                                  Version 5.0         (R2018a)
Embedded Coder                                        Version 7.0         (R2018a)
Filter Design HDL Coder                               Version 3.1.3       (R2018a)
Financial Instruments Toolbox                         Version 2.7         (R2018a)
Financial Toolbox                                     Version 5.11        (R2018a)
Fixed-Point Designer                                  Version 6.1         (R2018a)
Fuzzy Logic Toolbox                                   Version 2.3.1       (R2018a)
GPU Coder                                             Version 1.1         (R2018a)
Global Optimization Toolbox                           Version 3.4.4       (R2018a)
HDL Coder                                             Version 3.12        (R2018a)
HDL Verifier                                          Version 5.4         (R2018a)
IEC Certification Kit                                 Version 3.11        (R2018a)
Image Acquisition Toolbox                             Version 5.4         (R2018a)
Image Processing Toolbox                              Version 10.2        (R2018a)
Instrument Control Toolbox                            Version 3.13        (R2018a)
LTE HDL Toolbox                                       Version 1.1         (R2018a)
LTE System Toolbox                                    Version 2.6         (R2018a)
MATLAB Coder                                          Version 4.0         (R2018a)
MATLAB Compiler                                       Version 6.6         (R2018a)
MATLAB Compiler SDK                                   Version 6.5         (R2018a)
MATLAB Distributed Computing Server                   Version 6.12        (R2018a)
MATLAB Report Generator                               Version 5.4         (R2018a)
Mapping Toolbox                                       Version 4.6         (R2018a)
Model Predictive Control Toolbox                      Version 6.1         (R2018a)
Neural Network Toolbox                                Version 11.1        (R2018a)
Optimization Toolbox                                  Version 8.1         (R2018a)
Parallel Computing Toolbox                            Version 6.12        (R2018a)
Partial Differential Equation Toolbox                 Version 3.0         (R2018a)
Phased Array System Toolbox                           Version 3.6         (R2018a)
Polyspace Bug Finder                                  Version 2.5         (R2018a)
Polyspace Code Prover                                 Version 9.9         (R2018a)
Powertrain Blockset                                   Version 1.3         (R2018a)
Predictive Maintenance Toolbox                        Version 1.0         (R2018a)
RF Blockset                                           Version 7.0         (R2018a)
RF Toolbox                                            Version 3.4         (R2018a)
Risk Management Toolbox                               Version 1.3         (R2018a)
Robotics System Toolbox                               Version 2.0         (R2018a)
Robust Control Toolbox                                Version 6.4.1       (R2018a)
Signal Processing Toolbox                             Version 8.0         (R2018a)
SimBiology                                            Version 5.8         (R2018a)
SimEvents                                             Version 5.4         (R2018a)
Simscape                                              Version 4.4         (R2018a)
Simscape Driveline                                    Version 2.14        (R2018a)
Simscape Electronics                                  Version 2.13        (R2018a)
Simscape Fluids                                       Version 2.4         (R2018a)
Simscape Multibody                                    Version 5.2         (R2018a)
Simscape Power Systems                                Version 6.9         (R2018a)
Simulink 3D Animation                                 Version 8.0         (R2018a)
Simulink Check                                        Version 4.1         (R2018a)
Simulink Code Inspector                               Version 3.2         (R2018a)
Simulink Coder                                        Version 8.14        (R2018a)
Simulink Control Design                               Version 5.1         (R2018a)
Simulink Coverage                                     Version 4.1         (R2018a)
Simulink Design Optimization                          Version 3.4         (R2018a)
Simulink Design Verifier                              Version 3.5         (R2018a)
Simulink Report Generator                             Version 5.4         (R2018a)
Simulink Requirements                                 Version 1.1         (R2018a)
Simulink Test                                         Version 2.4         (R2018a)
Stateflow                                             Version 9.1         (R2018a)
Statistics and Machine Learning Toolbox               Version 11.3        (R2018a)
Symbolic Math Toolbox                                 Version 8.1         (R2018a)
System Identification Toolbox                         Version 9.8         (R2018a)
Text Analytics Toolbox                                Version 1.1         (R2018a)
Trading Toolbox                                       Version 3.4         (R2018a)
Vehicle Dynamics Blockset                             Version 1.0         (R2018a)
Vehicle Network Toolbox                               Version 4.0         (R2018a)
Vision HDL Toolbox                                    Version 1.6         (R2018a)
WLAN System Toolbox                                   Version 1.5         (R2018a)
Wavelet Toolbox                                       Version 5.0         (R2018a)

fpath =

    &#39;/usr/local/MATLAB/R2018a/toolbox/MEEG/fieldtrip-20200327/&#39;

/usr/local/MATLAB/R2018a/toolbox/MEEG/fieldtrip-20200327/
[?1h=the call to &quot;ft_selectdata&quot; took 0 seconds and required the additional allocation of an estimated 13 MB
preprocessing
applying the montage to the elec structure
[Warning: copying input chantype to montage]
 In &#39;/usr/local/MATLAB/R2018a/toolbox/MEEG/fieldtrip-20200327/forward/ft_apply_montage.m&#39; at line 110
 In &#39;/usr/local/MATLAB/R2018a/toolbox/MEEG/fieldtrip-20200327/ft_preprocessing.m&#39; at line 692

[Warning: copying input chanunit to montage]
the call to &quot;ft_preprocessing&quot; took 2 seconds and required the additional allocation of an estimated 60 MB
the call to &quot;ft_selectdata&quot; took 0 seconds and required the additional allocation of an estimated 2 MB
preprocessing
applying the montage to the elec structure
[Warning: copying input chantype to montage]
[Warning: copying input chanunit to montage]
the call to &quot;ft_preprocessing&quot; took 1 seconds and required the additional allocation of an estimated 12 MB
the call to &quot;ft_selectdata&quot; took 0 seconds and required the additional allocation of an estimated 1 MB
preprocessing
applying the montage to the elec structure
[Warning: copying input chantype to montage]
[Warning: copying input chanunit to montage]
the call to &quot;ft_preprocessing&quot; took 1 seconds and required the additional allocation of an estimated 11 MB
the call to &quot;ft_selectdata&quot; took 0 seconds and required the additional allocation of an estimated 0 MB
preprocessing
applying the montage to the elec structure
[Warning: copying input chantype to montage]
[Warning: copying input chanunit to montage]
the call to &quot;ft_preprocessing&quot; took 1 seconds and required the additional allocation of an estimated 9 MB
the call to &quot;ft_selectdata&quot; took 0 seconds and required the additional allocation of an estimated 1 MB
preprocessing
applying the montage to the elec structure
[Warning: copying input chantype to montage]
[Warning: copying input chanunit to montage]
the call to &quot;ft_preprocessing&quot; took 1 seconds and required the additional allocation of an estimated 12 MB
the call to &quot;ft_selectdata&quot; took 0 seconds and required the additional allocation of an estimated 0 MB
preprocessing
applying the montage to the elec structure
[Warning: copying input chantype to montage]
[Warning: copying input chanunit to montage]
the call to &quot;ft_preprocessing&quot; took 1 seconds and required the additional allocation of an estimated 9 MB
the call to &quot;ft_selectdata&quot; took 0 seconds and required the additional allocation of an estimated 0 MB
preprocessing
applying the montage to the elec structure
[Warning: copying input chantype to montage]
[Warning: copying input chanunit to montage]
the call to &quot;ft_preprocessing&quot; took 1 seconds and required the additional allocation of an estimated 9 MB
[Warning: the data originates from different recordings on disk]
[Warning: please consider specifying cfg.keepsampleinfo=&#39;no&#39;]
concatenating over the &quot;chan&quot; dimension
the call to &quot;ft_selectdata&quot; took 1 seconds and required the additional allocation of an estimated 2 MB
concatenating sensor information across input arguments
removing duplicate electrodes
the call to &quot;ft_appendsens&quot; took 2 seconds and required the additional allocation of an estimated 1 MB
the call to &quot;ft_appenddata&quot; took 9 seconds and required the additional allocation of an estimated 80 MB
[?1l&gt;
Rereferenced data saved at /home/pasca/Tools/python/packages/neuropycon/ephypype/examples/reref_data.mat
</pre></div>
</div>
<p><strong>Total running time of the script:</strong> ( 0 minutes  31.248 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-plot-run-ft-if-py">
<div class="sphx-glr-download docutils container">
<a class="reference download internal" download="" href="../_downloads/d94c86202a61d847661f5e0f70a36081/plot_run_FT_IF.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_run_FT_IF.py</span></code></a></div>
<div class="sphx-glr-download docutils container">
<a class="reference download internal" download="" href="../_downloads/f91560c3256abbaac6edf9d633345091/plot_run_FT_IF.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_run_FT_IF.ipynb</span></code></a></div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.readthedocs.io">Gallery generated by Sphinx-Gallery</a></p>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020, Neuropycon Developers. Last updated on 2020-04-08.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>